# ===========================================
# FILE API CONFIGURATION
# ===========================================

# ------------------------------------------
# Server Configuration
# ------------------------------------------
PORT=3000
NODE_ENV=production

# API Key - Leave empty to auto-generate on first run
# Once generated, it will be saved to ./data/api-key.txt
API_KEY=

# CORS Configuration (optional)
# CORS_ORIGIN=https://yourdomain.com

# ------------------------------------------
# AWS S3 Configuration
# ------------------------------------------
# REQUIRED: AWS credentials and bucket name
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here
S3_BUCKET_NAME=your-bucket-name

# Optional: For S3-compatible storage (MinIO, DigitalOcean Spaces, etc.)
# S3_ENDPOINT=https://nyc3.digitaloceanspaces.com

# ------------------------------------------
# File Validation
# ------------------------------------------
# Comma-separated list of allowed file extensions (no dots, lowercase)
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,gif,doc,docx,xls,xlsx,txt,zip,mp4,mov

# Maximum file size per file (supports: KB, MB, GB)
# Examples: 50MB, 1.5GB, 500KB
MAX_FILE_SIZE=100MB

# Maximum total request size for batch uploads
MAX_REQUEST_SIZE=500MB

# ------------------------------------------
# Virus Scanning
# ------------------------------------------
# Enable/disable virus scanning (true/false)
ENABLE_VIRUS_SCAN=true

# ClamAV connection settings (use service name from docker-compose)
CLAMAV_HOST=clamav
CLAMAV_PORT=3310

# ------------------------------------------
# Upload Configuration
# ------------------------------------------
# Enable S3 versioning (true/false)
ENABLE_VERSIONING=true

# Chunk size for multipart uploads
MULTIPART_CHUNK_SIZE=5MB

# Maximum number of concurrent file uploads in batch operations
MAX_CONCURRENT_UPLOADS=5

# ------------------------------------------
# S3 Folder Structure
# ------------------------------------------
# Default folder name if 'source' not provided in request
DEFAULT_SOURCE_FOLDER=uploads

# Separator character for tags in folder structure
TAG_SEPARATOR=_
